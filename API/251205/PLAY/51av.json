{
  "name": "51AV",
  "base_url": "https://gitlab.com/51avwang-group/51av/-/raw/main/README.md?ref_type=heads",
  "action_data": {
    "video_url": {
      "enable_js_redirect": false,
      "steps": [
        {
          "action": "request_js",
          "url": "{{base_url}}",
          "max_retries": 1,
          "timeout": 15
        },
        {
          "action": "parse_text",
          "content_type": "markdown",
          "regex": "国内最新地址：\\s*(https?://[^\\s]+)",
          "group_index": 1,
          "save_as": "51av_cn",
          "multiple": false
        },
        {
          "action": "request_js",
          "url": "{{51av_cn}}",
          "force_js": true,
          "timeout": 10
        },
        {
          "action": "select",
          "selector": ".list a",
          "attribute": "href",
          "multiple": true,
          "save_as": "domain_list"
        }
      ],
      "result": {
        "domains": [
          "https://51avhd.com",
          "{{domain_list}}"
        ],
        "wd_url": "/videos/<*>/"
      },
      "logic": {
        "platform_names": [
          "51AV"
        ],
        "invalid": [
          {
            "type": "html",
            "selector": "title",
            "match": "404 页面不存在 - 51av",
            "method": "contains"
          },
          {
            "type": "html",
            "selector": ".text",
            "match": "您访问的页面不存在",
            "method": "contains"
          },
          {
            "type": "html",
            "selector": ".back-home-btn",
            "match": "返回主页",
            "method": "contains"
          }
        ],
        "valid": [
          {
            "type": "html",
            "selector": "detail-text",
            "match": "{{keyword}}",
            "method": "contains"
          },
          {
            "type": "html",
            "selector": ".font-medium",
            "match": "{{keyword}}",
            "method": "contains"
          }
        ]
      }
    }
  }
}